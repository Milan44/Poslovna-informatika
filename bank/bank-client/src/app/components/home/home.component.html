<nav class="navbar navbar-expand-lg  navbar-dark bg-dark">
  <ul class="navbar-nav mr-auto">
    <li class="nav-item active">
      <a class="nav-link" href="home">Home <span class="sr-only">(current)</span></a>
    </li>
  </ul>
  <ul class="navbar-nav">
    <li class="nav-item">
        <a class="nav-link" (click) = "logout()" href="javascript:void(0);"><span class="glyphicon glyphicon-log-in"></span>Logout</a>
      </li>
  </ul>
</nav>


<div class="container">

  <ngb-tabset>
      <ngb-tab title="Bank Accounts">
        <ng-template ngbTabContent>
          
            <table class="table">
                <thead>
                    <tr>
    
                        <!-- <th style="width: 20%; text-align:center;vertical-align:middle" >#</th> -->
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Account number</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Date of opening</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Valid</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Money</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Client</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Bank</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Currency</th>
                        <th style="width: 20%; text-align:center;vertical-align:middle" ></th>
                        

                    </tr>
                </thead>
                <tbody>
                    <tr class="active" *ngFor="let account of bankAccounts; let i = index">

                            <!-- <td style = "text-align:center;vertical-align:middle" scope="row">{{i + 1}}</td> -->
                            <td style = "text-align:center;vertical-align:middle" >{{account.accountNumber}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{account.dateOfOpening}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{account.valid}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{account.money}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{account.client.name}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{account.bank.name}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{account.currency.official_code}}</td>
                           
                            <td style = "text-align:center;vertical-align:middle"> 
                              <button id="exportXML"  (click) = "exportXML(account)" type="button" class="btn btn-success btn-sm center" >Export .xml</button>
                            </td>
                            <td style = "text-align:center;vertical-align:middle"> 
                              <button id="exportPDF" (click) = "exportPDF(account)" type="button" class="btn btn-success btn-sm center">Export .pdf</button>
                            </td>
                            <td style = "text-align:center;vertical-align:middle"> 
                              <button id="suspendAccount"  (click) = "suspend(account)" type="button" class="btn btn-danger btn-sm center" >Suspend</button>
                            </td>
                                             
                    </tr>
  

                </tbody>
            </table>
            <button id="addBankAccount"  (click) = "openAddBankAccountModal(addBankAccountModal)" type="button" class="btn btn-primary  center" >Register account</button>
        </ng-template>
      </ngb-tab>


      <ngb-tab title="Clients">
        <ng-template ngbTabContent>
          
            <table class="table">
                <thead>
                    <tr>
    
                        <!-- <th style="width: 20%; text-align:center;vertical-align:middle" >#</th> -->
                        <th style="width: 30%; text-align:center;vertical-align:middle" >ID</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Name</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Address</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Address for statements</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >email</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >email statements</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >phone</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >fax</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >jmbg</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >Type of client</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >pib</th>
                        <th style="width: 30%; text-align:center;vertical-align:middle" >residence</th>

                        <th style="width: 20%; text-align:center;vertical-align:middle" ></th>
                        

                    </tr>
                </thead>
                <tbody>
                    <tr class="active" *ngFor="let client of clients; let i = index">

                            <!-- <td style = "text-align:center;vertical-align:middle" scope="row">{{i + 1}}</td> -->
                            <td style = "text-align:center;vertical-align:middle" >{{client.id}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.name}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.address}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.addressForStatements}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.email}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.emailStatements}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.phone}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.fax}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.jmbg}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.typeOfClient}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.pib}}</td>
                            <td style = "text-align:center;vertical-align:middle">{{client.residence.name}}</td>
                            <td style = "text-align:center;vertical-align:middle"> 
                              <button id="updateClient"  (click) = "openUpdateClientModal(updateClientModal,client)" type="button" class="btn btn-warning btn-sm center" >Update</button>
                            <!-- </td>
                            <td style = "text-align:center;vertical-align:middle">  -->
                               <button id="deleteClient"  (click) = "deleteClient(client.id)" type="button" class="btn btn-danger btn-sm center" >Delete</button>
                            </td> 
                                             
                    </tr>
                   

                </tbody>
            </table>
            <button id="addClient"  (click) = "openAddClientModal(addClientModal)" type="button" class="btn btn-primary  center" >Register client</button>
        </ng-template>
      </ngb-tab>


      <ngb-tab title="Banks">
        <ng-template ngbTabContent>    
          <table class="table">
              <thead>
                  <tr>
                      <!-- <th style="width: 20%; text-align:center;vertical-align:middle" >#</th> -->
                      <th style="width: 30%; text-align:center;vertical-align:middle" >Name</th>
                      <th style="width: 30%; text-align:center;vertical-align:middle" >Bank Code</th>
                      <th style="width: 30%; text-align:center;vertical-align:middle" >PIB</th>
                      <th style="width: 20%; text-align:center;vertical-align:middle" ></th>
                  </tr>
              </thead>
              <tbody>
                  
                  <tr class="active" *ngFor="let bank of banks; let i = index">

                      <!-- <td style = "text-align:center;vertical-align:middle" scope="row">{{i + 1}}</td> -->
                      <td style = "text-align:center;vertical-align:middle" >{{bank.name}}</td>
                      <td style = "text-align:center;vertical-align:middle">{{bank.bankCode}}</td>
                      <td style = "text-align:center;vertical-align:middle">{{bank.pib}}</td>
                    
                      <td style = "text-align:center;vertical-align:middle"> 
                        <button id="exportPDF" (click) = "exportPDF(account)" type="button" class="btn btn-success btn-sm center">Export .pdf</button>
                      </td>                                                           
              </tr>
              </tbody>
          </table>
      </ng-template>
      </ngb-tab>
     
      <ngb-tab title="Currencies">

            <ng-template ngbTabContent>
              
              <table class="table">
                  <thead>
                      <tr>
      
                          <!-- <th style="width: 20%; text-align:center;vertical-align:middle" >#</th> -->
                          <th style="width: 30%; text-align:center;vertical-align:middle" >Official_code</th>
                          <th style="width: 30%; text-align:center;vertical-align:middle" >Name</th>
                          <th style="width: 30%; text-align:center;vertical-align:middle" >Domicilna</th>
                          <th style="width: 30%; text-align:center;vertical-align:middle" >Country</th>
                          <th style="width: 20%; text-align:center;vertical-align:middle" ></th>

                      </tr>
                  </thead>
                  <tbody>
                      
                      <tr class="active" *ngFor="let currency of currencies; let i = index">
    
                          <!-- <td style = "text-align:center;vertical-align:middle" scope="row">{{i + 1}}</td> -->
                          <td style = "text-align:center;vertical-align:middle" >{{currency.official_code}}</td>
                          <td style = "text-align:center;vertical-align:middle">{{currency.name}}</td>
                          <td style = "text-align:center;vertical-align:middle">{{currency.domicilna}}</td>
                          <td style = "text-align:center;vertical-align:middle">{{currency.country.name}}</td>
                        
                          <td style = "text-align:center;vertical-align:middle"> 
                                <button id="updateCurrency"  (click) = "openUpdateCurrencyModal(updateCurrencyModal,currency)" type="button" class="btn btn-warning btn-sm center" >Update</button>
                              </td>
                              <td style = "text-align:center;vertical-align:middle"> 
                                 <button id="deleteCurrency"  (click) = "deleteCurrency(currency.id)" type="button" class="btn btn-danger btn-sm center" >Delete</button>
                            </td> 
                                                                 
                  </tr>
    
                  </tbody>
              </table>
        <button id="addCurrency"  (click) = "openAddCurrencyModal(addCurrencyModal)" type="button" class="btn btn-primary  center" >Register client</button>
          </ng-template>
        </ngb-tab>
         

      
    </ngb-tabset>
</div>


<ng-template #addBankAccountModal let-c="close" let-d="dismiss">
    
  <div class="modal-header">
      <h4 class="modal-title">Add bank account</h4>
    </div>
    <div class="modal-body">
      
        <div class="form-group">
            <label for="broj_racuna">Account number: </label>
            <input id="broj_racuna" name="broj_racuna" [(ngModel)]="accountNumber" class="form-control" type="number" data-validation="required" #broj_Racuna >
            <span id="error_naziv_drzave" class="text-danger"></span>
        </div>

        <div class="form-group">
          <label for="broj_racuna">Money: </label>
          <input id="broj_racuna" name="broj_racuna" [(ngModel)]="money" class="form-control" type="number" data-validation="required" #broj_Racuna >
          <span id="error_naziv_drzave" class="text-danger"></span>
      </div>

      <div class="form-group">
        <label for="broj_racuna">Date of opening: </label>
        <div class="input-group">
          <input class="form-control" placeholder="yyyy-mm-dd" disabled
                  name="datePicker" [(ngModel)]="dateOfOpening" ngbDatepicker #dt="ngbDatepicker" required>
          <!-- <div class="input-group-append">
            <button class="btn btn-outline-secondary" (click)="dt.toggle()" type="button">
              <img src="../../../assets/images/calendar-icon.svg" style="width: 1.2rem; height: 1rem; cursor: pointer;"/>
            </button>
          </div> -->
        </div>
      </div>

  
        <div class="form-group">
            <label for="drzava">Client: </label>
            <div class="input-group-append" >
              <select [(ngModel)]="selectedClient" name="izabran_klijent" class="form-control">
                  <option *ngFor="let client of clients" [value]="client.id">{{client.name}}</option>
              </select> 
            </div>
        </div>

        <div class="form-group">
          <label for="drzava">Bank: </label>
          <div class="input-group-append" >
            <select [(ngModel)]="selectedBank" name="izabran_banka" class="form-control">
                <option *ngFor="let bank of banks" [value]="bank.id">{{bank.name}}</option>
            </select> 
          </div>
      </div>

      <div class="form-group">
        <label for="drzava">Currency: </label>
        <div class="input-group-append" >
          <select [(ngModel)]="selectedCurrency" name="izabran_valuta" class="form-control">
              <option *ngFor="let currency of currencies" [value]="currency.id">{{currency.official_code}}</option>
          </select> 
        </div>
    </div>

        <div class="form-group">

            <button id="submitBankAccount" (click) = "addBankAccount()" type="button" class="btn btn-primary  center" > Submit </button>

        </div>
    </div>

</ng-template>


<ng-template #addClientModal let-c="close" let-d="dismiss">
    <div class="modal-header">
        <h4 class="modal-title">Add client</h4>
      </div>
      <div class="modal-body">
        <div class="form-group">
            <label for="ime">Name: </label>
            <input id="ime" name="ime_Klijenta" [(ngModel)]="client_name" class="form-control" type="text" data-validation="required" #naziv_Klijenta>
            <span id="error_naziv_drzave" class="text-danger"></span>
        </div>

          <div class="form-group">
              <label for="adresa">Address: </label>
              <input id="adresa" name="naziv_Drzave" [(ngModel)]="client_address" class="form-control" type="text" data-validation="required" #naziv_Ader >
              <span id="error_naziv_drzave" class="text-danger"></span>
          </div>
  
          <div class="form-group">
              <label for="oznaka_drzave">Phone: </label>
              <input id="oznaka_drzave" name="oznaka_Drzave" [(ngModel)]="client_phone" class="form-control" type="text" data-validation="required" #oznaka_Dsssrzave >
              <span id="error_oznaka_drzave" class="text-danger"></span>
          </div>
  
          <div class="form-group">
              <label for="fax">Fax: </label>
              <input id="fax" name="fax" [(ngModel)]="client_fax" class="form-control" type="text" data-validation="required" #ptt_Br22oj >
              <span id="error_ptt_broj" class="text-danger"></span>
          </div>

        <div class="form-group">
            <label for="email">Email: </label>
            <input id="email" name="email" [(ngModel)]="client_email" class="form-control" type="email" data-validation="required" #ptt_Br33oj >
            <span id="error_ptt_broj" class="text-danger"></span>
        </div>
    
        <div class="form-group">
            <label for="fax">Address for statements: </label>
            <input id="addressForStatements" name="addressForStatements" [(ngModel)]="client_addressForStatements" class="form-control" type="text" data-validation="required" #ptt_Br4433oj >
            <span id="error_ptt_broj" class="text-danger"></span>
        </div>

        <div class="form-group">
                <div class="form-check">
                    <label class="form-check-label">
                        <input class="form-check-input" type="checkbox" [(ngModel)]="client_emailStatements" name="emailStatements"> Email statements
                    </label>
                </div>
        </div>

        <div class="form-group">
            <label for="fax">JMBG: </label>
            <input id="JMBG" name="JMBG" [(ngModel)]="client_jmbg" class="form-control" type="number" data-validation="required" #ptt_Br41433oj >
            <span id="error_ptt_broj" class="text-danger"></span>
        </div>

        <div class="form-group">
            <label for="drzava">Type of client: </label>
            <div class="input-group-append" >
              <select [(ngModel)]="client_typeOfClient"  (change) = "selectTypeOfClient()" name="client_type" class="form-control">
                    <option *ngFor="let type of clientTypes" [value]="type">{{type}}</option>
              </select> 
            </div>
        </div>

        <div class="form-group">
            <label for="drzava">Residence: </label>
            <div class="input-group-append" >
              <select [(ngModel)]="client_residence"  name="izabran_valuta" class="form-control">
                  <option *ngFor="let place of places" [value]="place.id">{{place.name}}</option>
              </select> 
            </div>
        </div>

        <div class="form-group">
            <label for="fax">PIB: </label>
            <input id="pib" name="pib" [(ngModel)]="client_pib" [disabled]="isFizicko" class="form-control" type="number" data-validation="required" #ptt_Br41433oj >
            <span id="error_ptt_broj" class="text-danger"></span>
        </div>
          <div class="form-group">
  
              <button id="submitAddClient" (click) = "addClient()" type="button" class="btn btn-primary  center" > Submit </button>
  
          </div>
      </div>
  
  </ng-template>



  <ng-template #updateClientModal let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title">Change client</h4>
          </div>
          <div class="modal-body">
            <div class="form-group">
                <label for="ime">Name: </label>
                <input id="ime" name="ime_Klijenta" [(ngModel)]="client_name" class="form-control" type="text" data-validation="required" #naziv_Klijenta>
                <span id="error_naziv_drzave" class="text-danger"></span>
            </div>
    
              <div class="form-group">
                  <label for="adresa">Address: </label>
                  <input id="adresa" name="naziv_Drzave" [(ngModel)]="client_address" class="form-control" type="text" data-validation="required" #naziv_Ader >
                  <span id="error_naziv_drzave" class="text-danger"></span>
              </div>
      
              <div class="form-group">
                  <label for="oznaka_drzave">Phone: </label>
                  <input id="oznaka_drzave" name="oznaka_Drzave" [(ngModel)]="client_phone" class="form-control" type="text" data-validation="required" #oznaka_Dsssrzave >
                  <span id="error_oznaka_drzave" class="text-danger"></span>
              </div>
      
              <div class="form-group">
                  <label for="fax">Fax: </label>
                  <input id="fax" name="fax" [(ngModel)]="client_fax" class="form-control" type="text" data-validation="required" #ptt_Br22oj >
                  <span id="error_ptt_broj" class="text-danger"></span>
              </div>
    
            <div class="form-group">
                <label for="email">Email: </label>
                <input id="email" name="email" [(ngModel)]="client_email" class="form-control" type="email" data-validation="required" #ptt_Br33oj >
                <span id="error_ptt_broj" class="text-danger"></span>
            </div>
        
            <div class="form-group">
                <label for="fax">Address for statements: </label>
                <input id="addressForStatements" name="addressForStatements" [(ngModel)]="client_addressForStatements" class="form-control" type="text" data-validation="required" #ptt_Br4433oj >
                <span id="error_ptt_broj" class="text-danger"></span>
            </div>
    
            <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [(ngModel)]="client_emailStatements" name="emailStatements"> Email statements
                        </label>
                    </div>
            </div>
    
            <div class="form-group">
                <label for="fax">JMBG: </label>
                <input id="JMBG" name="JMBG" [(ngModel)]="client_jmbg" class="form-control" type="number" data-validation="required" #ptt_Br41433oj >
                <span id="error_ptt_broj" class="text-danger"></span>
            </div>
    
            <div class="form-group">
                <label for="drzava">Type of client: </label>
                <div class="input-group-append" >
                  <select [(ngModel)]="client_typeOfClient"  (change) = "selectTypeOfClient()" name="client_type" class="form-control">
                        <option *ngFor="let type of clientTypes" [value]="type">{{type}}</option>
                  </select> 
                </div>
            </div>
    
            <div class="form-group">
                <label for="drzava">Residence: </label>
                <div class="input-group-append" >
                  <select [(ngModel)]="client_residence"  name="izabran_valuta" class="form-control">
                      <option *ngFor="let place of places" [value]="place.id">{{place.name}}</option>
                  </select> 
                </div>
            </div>
    
            <div class="form-group">
                <label for="fax">PIB: </label>
                <input id="pib" name="pib" [(ngModel)]="client_pib" [disabled]="isFizicko" class="form-control" type="number" data-validation="required" #ptt_Br41433oj >
                <span id="error_ptt_broj" class="text-danger"></span>
            </div>
              <div class="form-group">
      
                  <button id="submitUpdateClient" (click) = "updateClient()" type="button" class="btn btn-primary  center" > Change </button>
      
              </div>
          </div>
      
      </ng-template>


    <ng-template #addCurrencyModal let-c="close" let-d="dismiss">
        <div class="modal-header">
            <h4 class="modal-title">Add currency</h4>
            </div>
            <div class="modal-body">
            <div class="form-group">
                <label for="official_code">Official_code: </label>
                <input id="official_code" name="official_code" [(ngModel)]="currency_official_code" class="form-control" type="text" data-validation="required" #ptt_Br33oj >
                <span id="error_ptt_broj" class="text-danger"></span>
            </div>
            <div class="form-group">
                <label for="name">Name: </label>
                <input id="c_name" name="c_name" [(ngModel)]="currency_name" class="form-control" type="text" data-validation="required" #ptt_Br33oj >
                <span id="error_ptt_broj" class="text-danger"></span>
            </div>
            <div class="form-group">
                    <div class="form-check">
                        <label class="form-check-label">
                            <input class="form-check-input" type="checkbox" [(ngModel)]="currency_domicilna" name="emailStatements"> Domicilna
                        </label>
                    </div>
            </div>
            <div class="form-group">
                    <label for="place">Country: </label>
                    <div class="input-group-append" >
                      <select [(ngModel)]="currency_countryID"  name="izabran_valuta" class="form-control">
                          <option *ngFor="let country of countries" [value]="country.id">{{country.name}}</option>
                      </select> 
                    </div>
            </div>
            <div class="form-group">
      
                <button id="submitAddClient" (click) = "addCurrency()" type="button" class="btn btn-primary  center" > Submit </button>
        
            </div>

        </div>

    </ng-template>


    <ng-template #updateCurrencyModal let-c="close" let-d="dismiss">
            <div class="modal-header">
                <h4 class="modal-title">Change currency</h4>
                </div>
                <div class="modal-body">
                <div class="form-group">
                    <label for="official_code">Official_code: </label>
                    <input id="official_code" name="official_code" [(ngModel)]="currency_official_code" class="form-control" type="text" data-validation="required" #ptt_Br33oj >
                    <span id="error_ptt_broj" class="text-danger"></span>
                </div>
                <div class="form-group">
                    <label for="name">Name: </label>
                    <input id="c_name" name="c_name" [(ngModel)]="currency_name" class="form-control" type="text" data-validation="required" #ptt_Br33oj >
                    <span id="error_ptt_broj" class="text-danger"></span>
                </div>
                <div class="form-group">
                        <div class="form-check">
                            <label class="form-check-label">
                                <input class="form-check-input" type="checkbox" [(ngModel)]="currency_domicilna" name="emailStatements"> Domicilna
                            </label>
                        </div>
                </div>
                <div class="form-group">
                        <label for="place">Country: </label>
                        <div class="input-group-append" >
                          <select [(ngModel)]="currency_countryID"  name="izabran_valuta" class="form-control">
                              <option *ngFor="let country of countries" [value]="country.id">{{country.name}}</option>
                          </select> 
                        </div>
                </div>
                <div class="form-group">
          
                    <button id="submitAddClient" (click) = "updateCurrency()" type="button" class="btn btn-primary  center" > Change </button>
            
                </div>
    
            </div>
    
        </ng-template>